#!/bin/bash
# Pre-commit hook - prevents committing broken code
# Runs tests that catch import errors like commit 9330e41

set -e

echo "ğŸ” Running pre-commit checks..."
echo ""

# Run test suite (includes admin import verification)
echo "ğŸ“‹ Running tests..."
if ! npm test; then
  echo ""
  echo "âŒ Tests failed. Fix them before committing."
  exit 1
fi

echo ""
echo "âœ… Pre-commit checks passed!"
exit 0
